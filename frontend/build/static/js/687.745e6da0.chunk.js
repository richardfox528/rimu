"use strict";(self.webpackChunkRIMU=self.webpackChunkRIMU||[]).push([[687],{3687:(e,r,i)=>{i.r(r),i.d(r,{default:()=>l});var n=i(5043),o=i(6767),a=i(6213),t=i(3574),s=i(579);const l=()=>{const[e,r]=(0,n.useState)(!1),[i,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,g]=(0,n.useState)(""),[f,m]=(0,n.useState)(null),v=(0,o.Zp)(),h=(0,o.zy)();(0,n.useEffect)((()=>{var e,r,i;if(null!==(e=h.state)&&void 0!==e&&e.email&&g(h.state.email),null!==(r=h.state)&&void 0!==r&&r.user_id&&m(h.state.user_id),null===(i=h.state)||void 0===i||!i.email){const e=JSON.parse(localStorage.getItem("userInfo")||"{}");e.email&&g(e.email),e.id&&m(e.id)}}),[h]);return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,s.jsx)("div",{className:"text-center mb-6",children:(0,s.jsx)("svg",{className:"mx-auto h-12 w-12 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-center text-indigo-600 mb-3",children:"Verificaci\xf3n de Correo Requerida"}),(0,s.jsxs)("p",{className:"text-gray-600 text-center mb-6",children:["Para continuar, necesitas verificar tu direcci\xf3n de correo electr\xf3nico. Hemos enviado un email con instrucciones a"," ",(0,s.jsx)("strong",{children:u})]}),i&&(0,s.jsx)("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4",children:(0,s.jsx)("p",{children:i})}),c&&(0,s.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:(0,s.jsx)("p",{children:c})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("button",{onClick:async()=>{if(u){r(!0),d(""),l("");try{(await a.A.post((0,t.e9)("api/accounts/resend-verification-email/"),{email:u,frontend_url:window.location.origin})).data.success&&l("Un nuevo correo de verificaci\xf3n ha sido enviado. Por favor revisa tu bandeja de entrada.")}catch(n){var e,i;d((null===(e=n.response)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.error)||"Error al reenviar el correo de verificaci\xf3n")}finally{r(!1)}}else d("Email information not found. Please log in again.")},className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",disabled:e,children:e?"Enviando...":"Reenviar correo de verificaci\xf3n"}),(0,s.jsx)("button",{onClick:()=>{v("/auth/email-verification",{state:{email:u,user_id:f}})},className:"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Ya tengo el c\xf3digo"}),(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("userInfo"),v("/login")},className:"w-full bg-white text-gray-700 py-2 px-4 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Volver al inicio de sesi\xf3n"})]})]})})}}}]);
//# sourceMappingURL=687.745e6da0.chunk.js.map